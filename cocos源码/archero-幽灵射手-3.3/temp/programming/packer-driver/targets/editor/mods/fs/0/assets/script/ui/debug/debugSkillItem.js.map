{"version":3,"sources":["file:///Users/ykq/Downloads/archero/assets/script/ui/debug/debugSkillItem.ts"],"names":["_decorator","Component","LabelComponent","SpriteComponent","Color","playerData","constant","GameManager","EffectManager","AudioManager","ccclass","property","DebugSkillItem","fromHEX","start","init","itemInfo","lbLevelTxt","string","name","_itemInfo","_changeState","_isSelected","instance","playerInfo","arrSkill","includes","ID","spCom","color","_colorSelected","_colorUnSelected","onBtnClick","playSound","SOUND","GET_SKILL","reducePlayerSkill","addPlayerSkill","playEffect","ndPlayer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAESA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,c,OAAAA,c;AAAgBC,MAAAA,e,OAAAA,e;AAAiBC,MAAAA,K,OAAAA,K;;AAF9DC,MAAAA,U,iBAAAA,U;;AAGAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;;gCAGjBY,c,WADZF,OAAO,CAAC,gBAAD,C,UASHC,QAAQ,CAACT,cAAD,C,UAGRS,QAAQ,CAACR,eAAD,C,oCAZb,MACaS,cADb,SACoCX,SADpC,CAC8C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,kDAcV,IAAIG,KAAJ,GAAYS,OAAZ,CAAoB,SAApB,CAdU;;AAAA,oDAeR,IAAIT,KAAJ,GAAYS,OAAZ,CAAoB,SAApB,CAfQ;;AAAA,+CAgBX,KAhBW;;AAAA,0CAiBjB,CAjBiB;;AAAA,6CAkBjB,IAlBiB;AAAA;;AAoB1CC,QAAAA,KAAK,GAAI,CACL;AACH;;AAEMC,QAAAA,IAAI,CAAEC,QAAF,EAAiB;AACxB,eAAKC,UAAL,CAAgBC,MAAhB,GAAyBF,QAAQ,CAACG,IAAlC;AACA,eAAKC,SAAL,GAAiBJ,QAAjB;;AACA,eAAKK,YAAL;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACYA,QAAAA,YAAY,GAAI;AACpB,eAAKC,WAAL,GAAmB;AAAA;AAAA,wCAAWC,QAAX,CAAoBC,UAApB,CAA+BC,QAA/B,CAAwCC,QAAxC,CAAiD,KAAKN,SAAL,CAAeO,EAAhE,CAAnB;;AAEA,cAAI,KAAKL,WAAT,EAAsB;AAClB,iBAAKM,KAAL,CAAWC,KAAX,GAAmB,KAAKC,cAAxB;AACH,WAFD,MAEO;AACH,iBAAKF,KAAL,CAAWC,KAAX,GAAmB,KAAKE,gBAAxB;AACH;AACJ;;AAEMC,QAAAA,UAAU,GAAI;AACjB;AAAA;AAAA,4CAAaT,QAAb,CAAsBU,SAAtB,CAAgC;AAAA;AAAA,oCAASC,KAAT,CAAeC,SAA/C;;AAEA,cAAI,KAAKb,WAAT,EAAsB;AAClB;AAAA;AAAA,0CAAWC,QAAX,CAAoBa,iBAApB,CAAsC,KAAKhB,SAA3C;AACH,WAFD,MAEO;AACH;AAAA;AAAA,0CAAWG,QAAX,CAAoBc,cAApB,CAAmC,KAAKjB,SAAxC;AACA;AAAA;AAAA,gDAAcG,QAAd,CAAuBe,UAAvB,CAAkC;AAAA;AAAA,4CAAYC,QAA9C,EAAwD,iBAAxD;AACH;;AAED,eAAKlB,YAAL;AACH,SAzDyC,CA4D1C;AACA;AACA;;;AA9D0C,O;;;;;iBASN,I;;;;;;;iBAGJ,I;;;AAqDpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { playerData } from './../../framework/playerData';\n\nimport { _decorator, Component, Node, LabelComponent, SpriteComponent, Color } from 'cc';\nimport { constant } from '../../framework/constant';\nimport { GameManager } from '../../fight/gameManager';\nimport { EffectManager } from '../../framework/effectManager';\nimport { AudioManager } from '../../framework/audioManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('DebugSkillItem')\nexport class DebugSkillItem extends Component {\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n\n    @property(LabelComponent)\n    public lbLevelTxt: LabelComponent = null!;\n\n    @property(SpriteComponent)\n    public spCom: SpriteComponent = null!;\n\n    private _colorSelected: Color = new Color().fromHEX(\"#3CE649\");\n    private _colorUnSelected: Color = new Color().fromHEX(\"#ffffff\");\n    private _isSelected: boolean = false;\n    private _level: number = 0;\n    private _itemInfo: any = null!;\n\n    start () {\n        // [3]\n    }\n\n    public init (itemInfo: any) {\n        this.lbLevelTxt.string = itemInfo.name;\n        this._itemInfo = itemInfo;      \n        this._changeState();\n    }\n\n    /**\n     * 切换选中与非选中状态\n     *\n     * @private\n     * @memberof DebugSkillItem\n     */\n    private _changeState () {\n        this._isSelected = playerData.instance.playerInfo.arrSkill.includes(this._itemInfo.ID);\n\n        if (this._isSelected) {\n            this.spCom.color = this._colorSelected;\n        } else {\n            this.spCom.color = this._colorUnSelected;\n        }\n    }\n\n    public onBtnClick () {\n        AudioManager.instance.playSound(constant.SOUND.GET_SKILL);\n\n        if (this._isSelected) {\n            playerData.instance.reducePlayerSkill(this._itemInfo);\n        } else {\n            playerData.instance.addPlayerSkill(this._itemInfo);\n            EffectManager.instance.playEffect(GameManager.ndPlayer, \"levelUp/levelUp\");\n        }\n\n        this._changeState();\n    }\n\n\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}