{"version":3,"sources":["file:///Users/ykq/Downloads/archero/assets/script/framework/sdkUtil.ts"],"names":["sys","playerData","constant","AudioManager","StorageManager","SdkUtil","customEventStatistics","eventType","objParams","toString","isNewBee","instance","platform","window","wx","cocosAnalytics","isInited","console","log","CACustomEvent","onStarted","vibrateShort","isEnableVibrate","getGlobalData","now","Date","vibratePreTime","vibrateInterval","isNative","jsb","reflection","callStaticMethod","success","result","fail","complete","shareGame","title","imageUrl","showShareMenu","withShareTicket","aldOnShareAppMessage","onShareAppMessage","updatePayIcon","shareId","spIcon","callback","imgAd","imgShare","bondSDK","getPayType","type","OPEN_REWARD_TYPE","AD","node","active","spriteFrame","SHARE","NULL","jkwSDK","checkRewardedVideoAd","err","pay","pauseAll","isWatchVideoAd","resumeAll","showBannerAd","adPlaceName","showKeepOutBanner","showAdBanner","hideBannerAd","hideKeepOutBanner","hideAdBanner"],"mappings":"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","sourcesContent":["\nimport { _decorator, Vec3, SpriteFrame, SpriteComponent, sys, Node } from \"cc\";\nimport { playerData } from \"./playerData\";\nimport { constant } from './constant';\nimport { AudioManager } from './audioManager';\nimport { StorageManager } from './storageManager';\n//管理广告、分享、SDK相关内容的组件\nexport class SdkUtil {\n    public static platform: string = 'cocos'; //平台\n    public static imgAd: SpriteFrame = null!;\n    public static imgShare: SpriteFrame = null!;\n    public static isDebugMode: boolean = false;\n    public static onlineInterval: number = -1;\n    public static isEnableVibrate: boolean = true;\n    public static isCheckOffline: boolean = false; //登录后会检查是否展示登录界面，而且只检查一次\n    public static isWatchVideoAd: boolean = false;//是否正在播放广告\n    public static isEnableMoving: boolean = false;//是否允许屏幕上下移动\n    public static isEnableZoom: boolean = false;//是否允许屏幕缩放\n    public static arrLockDiary = [];//未解锁日记\n    public static vibrateInterval: number = 100;//两次震动之间的间隔,AppActivity里面的震动间隔也是100\n    public static vibratePreTime: number = 0;//上次震动时间\n\n    /**\n       * 自定义事件统计\n       *\n       * @param {string} eventType\n       * @param {object} objParams\n       */\n    public static customEventStatistics(eventType: string, objParams?: any) {\n        eventType = eventType.toString();\n        if (!objParams) {\n            objParams = {};\n        }\n\n        // console.log({'eventType': eventType},{'objParams': objParams});\n\n        objParams.isNewBee = playerData.instance.isNewBee;\n\n        if (this.platform === 'wx') {\n            //@ts-ignore\n            if (window['wx'] && window['wx']['aldSendEvent']) {\n                //@ts-ignore\n                window.wx['aldSendEvent'](eventType, objParams);\n            }\n        }\n\n        //@ts-ignore\n        if (this.platform === 'cocos' && window.cocosAnalytics && window.cocosAnalytics.isInited()) {\n            console.log(\"###统计\", eventType, objParams);\n            //@ts-ignore\n            window.cocosAnalytics.CACustomEvent.onStarted(eventType, objParams);\n        }\n    }\n\n    /**\n     * 调用震动\n     */\n    public static vibrateShort() {\n        let isEnableVibrate = StorageManager.instance.getGlobalData(\"vibration\") ?? true;\n\n        if (isEnableVibrate) {\n            let now = Date.now();\n\n            if (now - this.vibratePreTime >= this.vibrateInterval) {\n                if (sys.isNative) {\n                    jsb.reflection.callStaticMethod(\"com/cocos/game/AppActivity\", \"vibrator\", \"()V\");\n                //@ts-ignore\n                } else if (window.wx) {\n                //@ts-ignore\n                    wx.vibrateShort({\n                        success: (result: any) => {\n\n                        },\n                        fail: () => { },\n                        complete: () => { }\n                    });\n                }\n\n                this.vibratePreTime = now;\n            }\n        }\n    }\n\n    /**\n     * 微信分享\n     * \n     * @static\n     * @param {string} title\n     * @param {string} imageUrl\n     * @returns\n     * @memberof SdkUtil\n     */\n    public static shareGame(title: string, imageUrl: string) {\n        //@ts-ignore\n        if (!window.wx) {\n            return;\n        }\n\n        //@ts-ignore\n        wx.showShareMenu({\n            withShareTicket: true,\n            complete: () => {\n\n            }\n        });\n\n        //@ts-ignore\n        if (wx.aldOnShareAppMessage) {\n            //@ts-ignore\n            wx.aldOnShareAppMessage(function () {\n                // 用户点击了“转发”按钮\n                return {\n                    title: title,\n                    imageUrl: imageUrl,\n\n                };\n            });\n        } else {\n            //@ts-ignore\n            wx.onShareAppMessage(function () {\n                // 用户点击了“转发”按钮\n                return {\n                    title: title,\n                    imageUrl: imageUrl,\n\n                };\n            });\n        }\n    }\n\n    /**\n     * 根据功能设置图标对应展示\n     *\n     * @static\n     * @param {string} funStr\n     * @param {SpriteComponent} spIcon\n     * @param {Function} [callback]\n     * @param {SpriteFrame} [imgAd]\n     * @param {SpriteFrame} [imgShare]\n     * @memberof gameLogic\n     */\n    public static updatePayIcon(shareId: number, spIcon: SpriteComponent, callback?: Function, imgAd?: SpriteFrame, imgShare?: SpriteFrame) {\n        if (this.platform === 'ios' || this.platform === 'wx') {\n            //策划说ios平台都是视频广告，不用改\n            if (this.platform === 'ios') {\n                return;\n            }\n            //@ts-ignore\n            if (window.bondSDK) {\n                //@ts-ignore\n                window.bondSDK.getPayType({\n                    shareId: shareId,\n                    callback: (type: number) => {\n                        console.log(\"###updatePayIcon.type\", type);\n                        switch (type) {\n                            case constant.OPEN_REWARD_TYPE.AD:\n                                spIcon.node.active = true;\n                                if (imgAd) {\n                                    spIcon.spriteFrame = imgAd;\n                                } else {\n                                    spIcon.spriteFrame = this.imgAd;\n                                }\n                                break;\n                            case constant.OPEN_REWARD_TYPE.SHARE:\n                                spIcon.node.active = true;\n                                if (imgShare) {\n                                    spIcon.spriteFrame = imgShare;\n                                } else {\n                                    spIcon.spriteFrame = this.imgShare;\n                                }\n                                break;\n                            case constant.OPEN_REWARD_TYPE.NULL:\n                                spIcon.node.active = false;\n                                //策划说不管有广告还是没有广告都展示广告图标\n                                break;\n                        }\n\n                        if (callback) {\n                            callback(type);\n                        }\n                    }\n                });\n            }\n        } else if (this.platform === 'cocosPlay') {\n            //策划说不管有没有广告都展示视频icon\n            return;\n            //@ts-ignore\n            jkwSDK.checkRewardedVideoAd((err) => {\n                console.log(\"###updatePayIcon.checkRewardedVideoAd.err\", err);\n                if (!err) {\n                    spIcon.node.active = true;\n                    if (imgAd) {\n                        spIcon.spriteFrame = imgAd;\n                    } else {\n                        spIcon.spriteFrame = this.imgAd;\n                    }\n                    callback && callback(constant.OPEN_REWARD_TYPE.AD);\n                } else {\n                    spIcon.node.active = false;\n                    callback && callback(constant.OPEN_REWARD_TYPE.NULL);\n                }\n            })\n        } else {\n            spIcon.node.active = false;\n            callback && callback(constant.OPEN_REWARD_TYPE.NULL);\n        }\n    }\n\n    public static getPayType(shareId: number, callback: Function) {\n        //@ts-ignore\n        if (window.bondSDK) {\n            //@ts-ignore\n            window.bondSDK.getPayType({\n                shareId: shareId,\n                callback: (type: number) => {\n                    console.log(\"###getPayType.type\", type);\n                    callback(type);\n                }\n            });\n        } else if (this.platform === 'cocosPlay') {\n            //     jkwSDK.checkRewardedVideoAd((err)=>{\n            //         console.log(\"###getPayType.err\", err);\n\n            //         if (!err) {\n            //            callback(constant.OPEN_REWARD_TYPE.AD);\n            //         } else {\n            //            callback(constant.OPEN_REWARD_TYPE.NULL);    \n            //         }   \n            //    })\n        } else {\n            callback && callback(constant.OPEN_REWARD_TYPE.NULL);\n        }\n    }\n\n    public static pay(shareId: number, callback: Function) {\n        console.log(\"###gameLogic.pay\", \"shareId\", shareId);\n\n        AudioManager.instance.pauseAll();\n\n        this.isWatchVideoAd = true;\n        //@ts-ignore\n        if ((this.platform === 'ios' || this.platform === 'wx') && window.bondSDK) {\n            //@ts-ignore\n            window.bondSDK.pay({\n                shareId: shareId,\n                success: () => {\n                    console.log(\"###pay.success\", \"shareId\", shareId);\n                    AudioManager.instance.resumeAll();\n                    this.isWatchVideoAd = false;\n                    callback(null);\n                },\n                fail: (err: any) => {\n                    console.log(\"###pay.fail\", \"shareId\", shareId);\n                    AudioManager.instance.resumeAll();\n                    // uiManager.instance.showTips('No ads, please try again later');\n                    this.isWatchVideoAd = false;\n                    callback('fail', err);\n                }\n            });\n        } else if (this.platform === 'cocosPlay') {\n            // jkwSDK.showRewardedVideoAd((err)=>{\n            //     AudioManager.instance.resumeAll();\n            //     if (!err) {\n            //         callback && callback(null);\n            //     } else {\n            //         callback && callback('fail', err);\n            //         //播放失败则给个提示,让玩家重试一下\n            //         if (err ==='failed') {\n            //             UIManager.instance.showTips('No ads, please try again later');\n            //         }\n            //     }\n            // })\n        } else {\n            this.isWatchVideoAd = false;\n            AudioManager.instance.resumeAll();\n            callback && callback(null);\n        }\n    }\n\n    public static showBannerAd(adPlaceName: string) {\n            //@ts-ignore\n        if (this.platform === 'wx' && window.bondSDK) {\n            //@ts-ignore\n            window.bondSDK.showKeepOutBanner({\n                adPlaceName: adPlaceName\n            });\n        }\n        //@ts-ignore\n        else if (this.platform === 'ios' && window.bondSDK) {\n            //@ts-ignore\n            window.bondSDK.showAdBanner({\n                adPlaceName: adPlaceName\n            })\n        } else if (this.platform === 'cocosPlay') {\n            // jkwSDK.showBannerAd();\n        }\n    }\n\n    public static hideBannerAd() {\n        //@ts-ignore\n        if (this.platform === 'wx' && window.bondSDK) {\n            //@ts-ignore\n            window.bondSDK.hideKeepOutBanner();\n        }\n        //@ts-ignore\n        else if (this.platform === 'ios' && window.bondSDK) {\n            //@ts-ignore\n            window.bondSDK.hideAdBanner();\n        } else if (this.platform === 'cocosPlay') {\n            // jkwSDK.hideBannerAd();\n        }\n    }\n}\n"]}