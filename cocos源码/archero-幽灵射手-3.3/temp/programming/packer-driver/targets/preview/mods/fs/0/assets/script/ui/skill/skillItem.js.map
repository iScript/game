{"version":3,"sources":["file:///Users/ykq/Downloads/archero/assets/script/ui/skill/skillItem.ts"],"names":["_decorator","Component","SpriteComponent","LabelComponent","GameManager","AudioManager","constant","EffectManager","playerData","resourceUtil","ccclass","property","SkillItem","start","init","itemInfo","callback","_itemInfo","_callback","lbName","string","name","lbDesc","desc","setSpriteFrame","icon","spIcon","err","onBtnItemClick","instance","playSound","SOUND","GET_SKILL","addPlayerSkill","playEffect","ndPlayer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,e,OAAAA,e;AAAiBC,MAAAA,c,OAAAA,c;;AAC9CC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;AACDC,MAAAA,O,GAAsBV,U,CAAtBU,O;AAASC,MAAAA,Q,GAAaX,U,CAAbW,Q;;2BAGJC,S,WADZF,OAAO,CAAC,WAAD,C,UAEHC,QAAQ,CAACT,eAAD,C,UAGRS,QAAQ,CAACR,cAAD,C,UAGRQ,QAAQ,CAACR,cAAD,C;;;;;;;;;;;;;;;;;;sEAGqB,I;;sEACL,I;;;;;;;eAEzBU,K,GAAA,iBAAS,CACL;AACH,S;;eAEMC,I,GAAP,cAAaC,QAAb,EAA4BC,QAA5B,EAAgD;AAC5C,eAAKC,SAAL,GAAiBF,QAAjB;AACA,eAAKG,SAAL,GAAiBF,QAAjB;AAEA,eAAKG,MAAL,CAAYC,MAAZ,GAAqBL,QAAQ,CAACM,IAA9B;AACA,eAAKC,MAAL,CAAYF,MAAZ,GAAqBL,QAAQ,CAACQ,IAA9B;AACA;AAAA;AAAA,4CAAaC,cAAb,wBAAiDT,QAAQ,CAACU,IAA1D,EAAkE,KAAKC,MAAvE,EAA+E,UAACC,GAAD,EAAY,CAAE,CAA7F;AACH,S;;eAEMC,c,GAAP,0BAAyB;AACrB;AAAA;AAAA,4CAAaC,QAAb,CAAsBC,SAAtB,CAAgC;AAAA;AAAA,oCAASC,KAAT,CAAeC,SAA/C;AAEA,eAAKd,SAAL,IAAkB,KAAKA,SAAL,EAAlB;AACA;AAAA;AAAA,wCAAWW,QAAX,CAAoBI,cAApB,CAAmC,KAAKhB,SAAxC;AACA;AAAA;AAAA,8CAAcY,QAAd,CAAuBK,UAAvB,CAAkC;AAAA;AAAA,0CAAYC,QAA9C,EAAwD,iBAAxD;AACH,S;;;QAhC0BlC,S;;;;;iBAEM,I;;;;;;;iBAGD,I;;;;;;;iBAGA,I","sourcesContent":["\nimport { _decorator, Component, Node, SpriteComponent, LabelComponent } from 'cc';\nimport { GameManager } from '../../fight/gameManager';\nimport { AudioManager } from '../../framework/audioManager';\nimport { constant } from '../../framework/constant';\nimport { EffectManager } from '../../framework/effectManager';\nimport { playerData } from '../../framework/playerData';\nimport { resourceUtil } from '../../framework/resourceUtil';\nconst { ccclass, property } = _decorator;\n\n@ccclass('SkillItem')\nexport class SkillItem extends Component {\n    @property(SpriteComponent)\n    public spIcon: SpriteComponent = null!;\n    \n    @property(LabelComponent)\n    public lbName: LabelComponent = null!;\n\n    @property(LabelComponent)\n    public lbDesc: LabelComponent = null!;\n\n    private _callback: Function = null!;\n    private _itemInfo: any = null!;\n\n    start () {\n        // [3]\n    }\n\n    public init (itemInfo: any, callback: Function) {\n        this._itemInfo = itemInfo;\n        this._callback = callback;\n\n        this.lbName.string = itemInfo.name;\n        this.lbDesc.string = itemInfo.desc;\n        resourceUtil.setSpriteFrame(`texture/skillIcon/${itemInfo.icon}`, this.spIcon, (err: any)=>{});\n    }\n\n    public onBtnItemClick () {\n        AudioManager.instance.playSound(constant.SOUND.GET_SKILL);\n\n        this._callback && this._callback();\n        playerData.instance.addPlayerSkill(this._itemInfo);\n        EffectManager.instance.playEffect(GameManager.ndPlayer, \"levelUp/levelUp\");\n    }\n}\n"]}